%compare accuracy of the algorithms
%put global feature importance for each algorithm and compare them
%for the best algorithm, put feature importance for each region and compare them


\chapter{Results}

\begin{table}[htbp]
    \centering
    \begin{tabular}{|l|c|c|}
    \hline
    \textbf{Model}           & \textbf{Accuracy} & \textbf{Weighted Average of Precision} \\ \hline
    Logistic Regression & 85.42\%          & 0.73                \\ \hline
    Decision Tree       & 75.97\%          & 0.77              \\ \hline
    Random Forests      & 85.67\%          & 0.83             \\ \hline
    Na√Øve Bayes         & 85.04\%          & 0.75               \\ \hline
    KNN                 & 83.92\%          & 0.80               \\ \hline
    \end{tabular}
    \caption{Accuracy and Weighted Average of Precision of Different Models}
    \end{table}
    
According to the results shown in the table above, Random Forests and Logistic Regression have the highest accuracy values. However Random Forests has 
higher value on weightes Average of Precision and if the confusion matrixs are compared it can be seen that random forests has higher 
probability of making correct predictions. All those findings makes random forests the best model for this dataset with 84.67\% accuracy. Except Decision Tree, there are not 
significant changes between the algortihms but with accuracy 75.97\% Decision Tree is the worst model for this dataset.
\\
\\
To be able to construct an efficient model and make better understanding on regions' music tastes it is also important to anaylsis importance of
different features of the songs. According to the Random Forest model globally \textit{tempo} is the most important feature while for all the other models 
\textit{dancebility} is the most important feature. This difference can be attributed to the inherent complexity and flexibility of the Random Forest
algorithm, which allows it to capture intricate patterns and interactions in the data that other models may not. Beside having the most important feature globally,
also feature importance is done for each region seperately. This analysis help to understand how the music tastes of different regions are shaped by audio features. 


\newpage
\textbf{Global Feature Importance Extracted From Different Models:}
\begin{figure}[h]
    \centering
    \begin{minipage}{0.45\textwidth}
        \centering
        \includegraphics[width=\linewidth]{media/random_forest_feature_imp_global.png}
        \caption{Global Feature Importance Using Random Forests Model}
    \end{minipage}%
    \hspace{0.05\textwidth} % Space between the two figures
    \begin{minipage}{0.45\textwidth}
        \centering
        \includegraphics[width=\linewidth]{media/logistic_reg_feature_imp_global.png}
        \caption{Global Feature Importance Using Logistic Regression Model}
    \end{minipage}
\end{figure}
\begin{figure}[h]
    \centering
    \begin{minipage}{0.45\textwidth}
        \centering
        \includegraphics[width=\linewidth]{media/decision_tree_fea_imp_global.png}
        \caption{Global Feature Importance Using Decision Tree Model}
    \end{minipage}%
    \hspace{0.05\textwidth} % Space between the two figures
    \begin{minipage}{0.45\textwidth}
        \centering
        \includegraphics[width=\linewidth]{media/naive_bayes_fea_imp_global.png}
        \caption{Global Feature Importance Using Naive Bayes Model}
    \end{minipage}
\end{figure}


\newpage
\textbf{Feature Importance for Each Region Extracted From Random Forest Model:}
\begin{figure}[h]
    \centering
    \begin{minipage}{0.45\textwidth}
        \centering
        \includegraphics[width=\linewidth]{media/rf_feature_imp_northen_europe.png}
        \caption{Feature Importance in North Europe}
    \end{minipage}%
    \hspace{0.05\textwidth} % Space between the two figures
    \begin{minipage}{0.45\textwidth}
        \centering
        \includegraphics[width=\linewidth]{media/rf_feature_imp_southern_europe.png}
        \caption{Feature Importance in South Europe}
    \end{minipage}
\end{figure}
\begin{figure}[h]
    \centering
    \begin{minipage}{0.45\textwidth}
        \centering
        \includegraphics[width=\linewidth]{media/rf_feature_imp_western_europe.png}
        \caption{Feature Importance in Western Europe}
    \end{minipage}%
    \hspace{0.05\textwidth} % Space between the two figures
    \begin{minipage}{0.45\textwidth}
        \centering
        \includegraphics[width=\linewidth]{media/rf_feature_imp_eastern_europe.png}
        \caption{Feature Importance in Eastern Europe}
    \end{minipage}
\end{figure}
\begin{figure}[h]
    \centering
    \begin{minipage}{0.45\textwidth}
        \centering
        \includegraphics[width=\linewidth]{media/rf_feature_imp_north_america.png}
        \caption{Feature Importance in North America}
    \end{minipage}%
    \hspace{0.05\textwidth} % Space between the two figures
    \begin{minipage}{0.45\textwidth}
        \centering
        \includegraphics[width=\linewidth]{media/rf_feature_imp_latin_america.png}
        \caption{Feature Importance in Latin America}
    \end{minipage}
\end{figure}
\begin{figure}[h]
    \centering
    \begin{minipage}{0.45\textwidth}
        \centering
        \includegraphics[width=\linewidth]{media/rf_feature_imp_ocenia.png}
        \caption{Feature Importance in Oceania}
    \end{minipage}%
    \hspace{0.05\textwidth} % Space between the two figures
    \begin{minipage}{0.45\textwidth}
        \centering
        \includegraphics[width=\linewidth]{media/rf_feature_imp_east_asia.png}
        \caption{Feature Importance in East Asia}
    \end{minipage}
\end{figure}
\begin{figure}[h]
    \centering
    \begin{minipage}{0.45\textwidth}
        \centering
        \includegraphics[width=\linewidth]{media/rf_feature_imp_south_asia.png}
        \caption{Feature Importance in South Asia}
    \end{minipage}%
    \hspace{0.05\textwidth} % Space between the two figures
    \begin{minipage}{0.45\textwidth}
        \centering
        \includegraphics[width=\linewidth]{media/rf_feature_imp_middle_east.png}
        \caption{Feature Importance in Middle East}
    \end{minipage}
\end{figure}
\begin{figure}[h]
    \centering
    \begin{minipage}{0.45\textwidth}
        \centering
        \includegraphics[width=\linewidth]{media/rf_feature_imp_africa.png}
        \caption{Feature Importance in Africa}
    \end{minipage}
\end{figure}

\clearpage 

\textbf{Important Features for Each Region and Their Mean Values:}

Region: Latin America (Code 3) - Top 5 Important Features and Their Mean Values:
Feature: tempo, Importance: 0.1001, Mean Value: 122.61
Feature: acousticness, Importance: 0.0979, Mean Value: 0.29
Feature: loudness, Importance: 0.0974, Mean Value: -6.71
Feature: duration\_ms, Importance: 0.0972, Mean Value: 217127.50
Feature: speechiness, Importance: 0.0965, Mean Value: 0.11

Region: East Asia (Code 1) - Top 5 Important Features and Their Mean Values:
Feature: tempo, Importance: 0.1027, Mean Value: 121.52
Feature: duration\_ms, Importance: 0.1005, Mean Value: 229571.73
Feature: loudness, Importance: 0.1004, Mean Value: -6.86
Feature: acousticness, Importance: 0.0986, Mean Value: 0.30
Feature: speechiness, Importance: 0.0967, Mean Value: 0.08

Region: Eastern Europe (Code 2) - Top 5 Important Features and Their Mean Values:
Feature: tempo, Importance: 0.0995, Mean Value: 122.33
Feature: loudness, Importance: 0.0993, Mean Value: -7.34
Feature: speechiness, Importance: 0.0975, Mean Value: 0.13
Feature: duration\_ms, Importance: 0.0966, Mean Value: 205515.98
Feature: acousticness, Importance: 0.0959, Mean Value: 0.24

Region: Middle East (Code 4) - Top 5 Important Features and Their Mean Values:
Feature: duration\_ms, Importance: 0.1019, Mean Value: 213894.57
Feature: loudness, Importance: 0.0988, Mean Value: -7.63
Feature: tempo, Importance: 0.0976, Mean Value: 120.14
Feature: acousticness, Importance: 0.0961, Mean Value: 0.30
Feature: danceability, Importance: 0.0954, Mean Value: 0.64

Region: North America (Code 5) - Top 5 Important Features and Their Mean Values:
Feature: duration\_ms, Importance: 0.1050, Mean Value: 206987.98
Feature: loudness, Importance: 0.1005, Mean Value: -6.99
Feature: tempo, Importance: 0.0988, Mean Value: 121.36
Feature: speechiness, Importance: 0.0972, Mean Value: 0.13
Feature: danceability, Importance: 0.0958, Mean Value: 0.66

Region: Northern Europe (Code 6) - Top 5 Important Features and Their Mean Values:
Feature: duration\_ms, Importance: 0.1021, Mean Value: 203514.75
Feature: loudness, Importance: 0.0995, Mean Value: -7.35
Feature: tempo, Importance: 0.0972, Mean Value: 121.29
Feature: danceability, Importance: 0.0965, Mean Value: 0.64
Feature: acousticness, Importance: 0.0963, Mean Value: 0.23

Region: Oceania (Code 7) - Top 5 Important Features and Their Mean Values:
Feature: duration\_ms, Importance: 0.1061, Mean Value: 213396.98
Feature: tempo, Importance: 0.0986, Mean Value: 120.82
Feature: danceability, Importance: 0.0981, Mean Value: 0.65
Feature: loudness, Importance: 0.0977, Mean Value: -7.05
Feature: acousticness, Importance: 0.0962, Mean Value: 0.23

Region: South Asia (Code 8) - Top 5 Important Features and Their Mean Values:
Feature: loudness, Importance: 0.1010, Mean Value: -7.39
Feature: duration\_ms, Importance: 0.1006, Mean Value: 222230.31
Feature: tempo, Importance: 0.0982, Mean Value: 119.92
Feature: acousticness, Importance: 0.0981, Mean Value: 0.36
Feature: danceability, Importance: 0.0960, Mean Value: 0.62

Region: Southern Europe (Code 9) - Top 5 Important Features and Their Mean Values:
Feature: loudness, Importance: 0.1012, Mean Value: -7.02
Feature: duration\_ms, Importance: 0.0996, Mean Value: 210862.34
Feature: tempo, Importance: 0.0986, Mean Value: 121.24
Feature: speechiness, Importance: 0.0968, Mean Value: 0.12
Feature: acousticness, Importance: 0.0965, Mean Value: 0.27

Region: Western Europe (Code 10) - Top 5 Important Features and Their Mean Values:
Feature: loudness, Importance: 0.1006, Mean Value: -7.26
Feature: tempo, Importance: 0.1004, Mean Value: 120.90
Feature: duration\_ms, Importance: 0.0990, Mean Value: 205864.40
Feature: acousticness, Importance: 0.0965, Mean Value: 0.25
Feature: speechiness, Importance: 0.0960, Mean Value: 0.15

Region: Africa (Code 0) - Top 5 Important Features and Their Mean Values:
Feature: loudness, Importance: 0.0992, Mean Value: -7.61
Feature: tempo, Importance: 0.0987, Mean Value: 120.41
Feature: duration\_ms, Importance: 0.0976, Mean Value: 219551.52
Feature: acousticness, Importance: 0.0963, Mean Value: 0.26
Feature: liveness, Importance: 0.0962, Mean Value: 0.17

--- Feature Comparison Across Regions ---

Feature: danceability
This feature is among the top 5 in these regions: Middle East, North America, Northern Europe, Oceania, South Asia

Feature: energy is not in the top 5 of any region.

Feature: tempo
This feature is among the top 5 in these regions: Latin America, East Asia, Eastern Europe, Middle East, North America, Northern Europe, Oceania, South Asia, Southern Europe, Western Europe, Africa

Feature: loudness
This feature is among the top 5 in these regions: Latin America, East Asia, Eastern Europe, Middle East, North America, Northern Europe, Oceania, South Asia, Southern Europe, Western Europe, Africa

Feature: valence is not in the top 5 of any region.
